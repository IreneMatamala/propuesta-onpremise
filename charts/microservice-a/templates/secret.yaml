{{- if .Values.externalSecrets.enabled -}}
# Este secret es solo para desarrollo/local
# En producción usar Hashicorp Vault
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "microservice-a.fullname" . }}-secrets
  labels:
    {{- include "microservice-a.labels" . | nindent 4 }}
type: Opaque
stringData:
  # Solo para desarrollo - en producción estas vienen de Vault
  {{- if eq .Values.environment "development" }}
  DATABASE_URL: {{ .Values.database.url | quote }}
  SECRET_KEY: {{ .Values.secrets.secretKey | quote }}
  JWT_SECRET_KEY: {{ .Values.secrets.jwtSecretKey | quote }}
  {{- end }}
{{- end }}
